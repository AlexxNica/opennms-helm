<div class="modal-body">
    <div class="modal-header">
        <h2 class="modal-header-title">
            <i class="fa fa-info-circle"></i>
            <span class="p-l-1">Alarm Details</span>
        </h2>

        <ul class="gf-tabs">
            <li class="gf-tabs-item" ng-repeat="tab in ['Overview', 'Memos', 'Ticketing']">
                <a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">
                    {{::tab}}
                </a>
            </li>
        </ul>

        <a class="modal-header-close" ng-click="ctrl.dismiss();">
            <i class="fa fa-remove"></i>
        </a>
    </div>

    <div class="modal-content">
        <div ng-if="editor.index == 0">
            <table class="filter-table gf-form-group">
                <tr>
                    <td>UEI</td>
                    <td>{{alarm.uei}}</td>
                </tr>
                <tr>
                    <td>Severity</td>
                    <td>{{alarm.severity.label}}</td>
                </tr>
                <tr>
                    <td>Log Message</td>
                    <td ng-bind-html="alarm.logMessage"></td>
                </tr>
                <tr>
                    <td>Description</td>
                    <td ng-bind-html="alarm.description"></td>
                </tr>
            </table>
            <table class="filter-table gf-form-group">
                <tr>
                    <td>Last Event Time</td>
                    <td>{{alarm.lastEvent.time}}</td>
                </tr>
                <tr>
                    <td>First Event Time</td>
                    <td>{{alarm.firstEventTime}}</td>
                </tr>
                <tr>
                    <td>Count</td>
                    <td>{{alarm.count}}</td>
                </tr>
                <tr>
                    <td>Reduction Key</td>
                    <td>{{alarm.reductionKey}}</td>
                </tr>
            </table>
        </div>

        <div ng-if="editor.index == 1">
            <div class="row">
                <div class="col-md-12">
                    <h3>Sticky Memo</h3>
                    <textarea style="width: 100%" name="stickyMemoBody">{{ alarm.sticky.body }}</textarea>
                    <div class="btn-group btn-group-sm">
                        <a type="button" class="btn gf-form-button btn-success" ng-click="saveSticky()"><i class="fa fa-plus"></i>&nbsp;&nbsp;Save</a>
                        <a type="button" class="btn gf-form-button btn-danger" ng-click="deleteSticky()"><i class="fa fa-minus"></i>&nbsp;&nbsp;Delete</a>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><strong>Author:</strong><br/>
                            {{ alarm.sticky.author }}
                        </div>
                        <div class="col-md-5"><strong>Updated:</strong><br/>
                            {{ alarm.sticky.updated }}
                        </div>
                        <div class="col-md-5"><strong>Created:</strong><br/>
                            {{ alarm.sticky.created }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12" style="height:50px;"></div>
            <div class="row">
                <div class="col-md-12">
                    <h3>Journal Memo</h3>
                    <textarea style="width: 100%" name="stickyMemoBody">{{ alarm.journal.body }}</textarea>
                    <div class="btn-group btn-group-sm">
                        <a type="button" class="btn gf-form-button btn-success" ng-click="saveJournal()"><i class="fa fa-plus"></i>&nbsp;&nbsp;Save</a>
                        <a type="button" class="btn gf-form-button btn-danger" ng-click="deleteJournal()"><i class="fa fa-minus"></i>&nbsp;&nbsp;Delete</a>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><strong>Author:</strong><br/>
                            {{ alarm.journal.author }}
                        </div>
                        <div class="col-md-5"><strong>Updated:</strong><br/>
                            {{ alarm.journal.updated }}
                        </div>
                        <div class="col-md-5"><strong>Created:</strong><br/>
                            {{ alarm.journal.created }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div ng-if="editor.index == 2">
            <table class="filter-table gf-form-group">
                <tr>
                    <td>Ticket ID</td>
                    <td>{{(alarm.troubleTicket || 'N/A')}}</td>
                </tr>
                <tr>
                    <td>Ticket State</td>
                    <td>{{alarm.troubleTicketState || 'N/A'}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
