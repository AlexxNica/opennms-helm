{"version":3,"sources":["../../../../src/datasources/fault-ds/mapping/ValueMapping.js"],"names":["ValueMapping","internalAttribute","value","Date","toJSON","replace","encodeURIComponent","stringified","JSON","parse","decodeURIComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCACaA,Y;;;;;;;gDACGC,iB,EAAmBC,K,EAAO;AAClC,4BAAID,sBAAsB,cAA1B,EAA0C;AACtC,gCAAIC,UAAU,MAAd,EAAsB;AAClBA,wCAAQ,IAAIC,IAAJ,CAAS,CAAT,CAAR;AACH;;AAED;AACA;AACAD,oCAAQA,MAAME,MAAN,GAAeC,OAAf,CAAuB,GAAvB,EAA4B,OAA5B,CAAR,CAPsC,CAOQ;AACjD;AACD,4BAAI,WAAWH,KAAf,EAAsB;AAClBA,oCAAQ,IAAR;AACH;AACD,+BAAOI,mBAAmBJ,KAAnB,CAAP;AACH;;;+CAEUD,iB,EAAmBC,K,EAAO;AACjC,4BAAID,sBAAsB,cAA1B,EAA0C;AACtC,gCAAIC,UAAU,IAAIC,IAAJ,CAAS,CAAT,CAAd,EAA2B;AACvB,uCAAO,MAAP;AACH;AACD,gCAAII,cAAcC,KAAKC,KAAL,CAAWP,MAAMG,OAAN,CAAc,OAAd,EAAuB,GAAvB,CAAX,CAAlB;AACA,mCAAO,IAAIF,IAAJ,CAASI,WAAT,CAAP;AACH;AACD,4BAAIL,UAAU,IAAd,EAAwB;AACpB,mCAAO,MAAP;AACH;AACD,+BAAOQ,mBAAmBR,KAAnB,CAAP;AACH","file":"ValueMapping.js","sourcesContent":["\nexport class ValueMapping {\n    getApiValue(internalAttribute, value) {\n        if (internalAttribute === 'alarmAckTime') {\n            if (value === 'null') {\n                value = new Date(0);\n            }\n\n            // yyyy-MM-ddTHH:mm:ss.sssZ\n            // 2017-06-08T10:17:17.173+0200\n            value = value.toJSON().replace(\"Z\", \"+0000\"); // make it parsable by java\n        }\n        if (\"null\" === value) {\n            value = '\\u0000';\n        }\n        return encodeURIComponent(value);\n    }\n\n    getUiValue(internalAttribute, value) {\n        if (internalAttribute === 'alarmAckTime') {\n            if (value === new Date(0)) {\n                return 'null';\n            }\n            var stringified = JSON.parse(value.replace(\"+0000\", \"Z\"));\n            return new Date(stringified);\n        }\n        if (value === \"\\u0000\") {\n            return \"null\";\n        }\n        return decodeURIComponent(value);\n    }\n}\n"]}