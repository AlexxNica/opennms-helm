{"version":3,"sources":["../../../../../src/datasources/fault-ds/mapping/ValueMapping.js"],"names":["ValueMapping","internalAttribute","value","Date","toJSON","replace","encodeURIComponent","stringified","JSON","parse","decodeURIComponent"],"mappings":";;;;;;;;;;IACaA,Y,WAAAA,Y;;;;;;;oCACGC,iB,EAAmBC,K,EAAO;AAClC,gBAAID,sBAAsB,cAA1B,EAA0C;AACtC,oBAAIC,UAAU,MAAd,EAAsB;AAClBA,4BAAQ,IAAIC,IAAJ,CAAS,CAAT,CAAR;AACH;;AAED;AACA;AACAD,wBAAQA,MAAME,MAAN,GAAeC,OAAf,CAAuB,GAAvB,EAA4B,OAA5B,CAAR,CAPsC,CAOQ;AACjD;AACD,gBAAI,WAAWH,KAAf,EAAsB;AAClBA,wBAAQ,IAAR;AACH;AACD,mBAAOI,mBAAmBJ,KAAnB,CAAP;AACH;;;mCAEUD,iB,EAAmBC,K,EAAO;AACjC,gBAAID,sBAAsB,cAA1B,EAA0C;AACtC,oBAAIC,UAAU,IAAIC,IAAJ,CAAS,CAAT,CAAd,EAA2B;AACvB,2BAAO,MAAP;AACH;AACD,oBAAII,cAAcC,KAAKC,KAAL,CAAWP,MAAMG,OAAN,CAAc,OAAd,EAAuB,GAAvB,CAAX,CAAlB;AACA,uBAAO,IAAIF,IAAJ,CAASI,WAAT,CAAP;AACH;AACD,gBAAIL,UAAU,IAAd,EAAwB;AACpB,uBAAO,MAAP;AACH;AACD,mBAAOQ,mBAAmBR,KAAnB,CAAP;AACH","file":"ValueMapping.js","sourcesContent":["\nexport class ValueMapping {\n    getApiValue(internalAttribute, value) {\n        if (internalAttribute === 'alarmAckTime') {\n            if (value === 'null') {\n                value = new Date(0);\n            }\n\n            // yyyy-MM-ddTHH:mm:ss.sssZ\n            // 2017-06-08T10:17:17.173+0200\n            value = value.toJSON().replace(\"Z\", \"+0000\"); // make it parsable by java\n        }\n        if (\"null\" === value) {\n            value = '\\u0000';\n        }\n        return encodeURIComponent(value);\n    }\n\n    getUiValue(internalAttribute, value) {\n        if (internalAttribute === 'alarmAckTime') {\n            if (value === new Date(0)) {\n                return 'null';\n            }\n            var stringified = JSON.parse(value.replace(\"+0000\", \"Z\"));\n            return new Date(stringified);\n        }\n        if (value === \"\\u0000\") {\n            return \"null\";\n        }\n        return decodeURIComponent(value);\n    }\n}\n"]}